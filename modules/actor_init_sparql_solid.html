<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>actor-init-sparql-solid | Comunica Solid</title>
	<meta name="description" content="Documentation for Comunica Solid">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
	<script async src="../assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.json" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">Comunica Solid</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../modules.html">Comunica Solid</a>
				</li>
				<li>
					<a href="actor_init_sparql_solid.html">actor-init-sparql-solid</a>
				</li>
			</ul>
			<h1>Module actor-init-sparql-solid</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-comment">
				<div class="tsd-comment tsd-typography">
					<a href="#comunica-sparql-solid" id="comunica-sparql-solid" style="color: inherit; text-decoration: none;">
						<h1>Comunica SPARQL Solid</h1>
					</a>
					<p><a href="https://www.npmjs.com/package/@comunica/actor-init-sparql-solid"><img src="https://badge.fury.io/js/%40comunica%2Factor-init-sparql-solid.svg" alt="npm version"></a>
					<a href="https://hub.docker.com/r/comunica/actor-init-sparql-solid/"><img src="https://img.shields.io/docker/pulls/comunica/actor-init-sparql-solid.svg" alt="Docker Pulls"></a></p>
					<p>Comunica SPARQL Solid is a SPARQL query engine for JavaScript that can query over <a href="https://solidproject.org/">Solid</a> data pods.</p>
					<p>This package is safe to use in both Node.js and browser environments.</p>
					<p>This module is part of the <a href="https://comunica.dev/">Comunica framework</a>.
					<a href="https://comunica.dev/docs/query/advanced/solid/">Click here to learn more about Comunica and Solid</a>.</p>
					<a href="#known-issues" id="known-issues" style="color: inherit; text-decoration: none;">
						<h2>Known issues</h2>
					</a>
					<p>This library has the following known issues in certain cases, that are out of our control (but have been reported).</p>
					<ul>
						<li><strong>Web Workers</strong>: This library can not be used within due to an open issue in <a href="https://github.com/inrupt/solid-client-authn-js/issues/1657">https://github.com/inrupt/solid-client-authn-js/issues/1657</a></li>
						<li><strong>Enterprise Solid Server</strong> (<a href="https://pod.inrupt.com/">https://pod.inrupt.com/</a>):<ul>
								<li>Patch requests are not accepted, so only new documents can be created, but existing ones can not be modified.</li>
								<li>Due to missing <code>Accept-Patch</code>, and <code>Accept-Put</code> headers, <a href="https://comunica.dev/docs/query/advanced/destination_types/">the destination type has to be forced</a>. This will only work for creating new documents via the <code>putLdp</code> destination type. Updating existing documents via <code>patchSparqlUpdate</code> are currently not possible because of the previous issue. </li>
							</ul>
						</li>
						<li><strong>Node Solid Server</strong> (<a href="https://solidcommunity.net/">https://solidcommunity.net/</a>):<ul>
								<li>Querying or updating existing documents fails with the error <code>Error translating between RDF formats</code> (<a href="https://github.com/solid/node-solid-server/issues/1618">https://github.com/solid/node-solid-server/issues/1618</a>). Creating new documents does work.</li>
							</ul>
						</li>
					</ul>
					<p>No issues are known with the <a href="https://github.com/solid/community-server/">Community Solid Server</a></p>
					<a href="#install" id="install" style="color: inherit; text-decoration: none;">
						<h2>Install</h2>
					</a>
					<pre><code class="language-bash"><span style="color: #000000">$ yarn add @comunica/actor-init-sparql-solid</span>
</code></pre>
					<p>or</p>
					<pre><code class="language-bash"><span style="color: #000000">$ npm install -g @comunica/actor-init-sparql-solid</span>
</code></pre>
					<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
						<h2>Usage</h2>
					</a>
					<p>Show 100 triples from a private resource
					by authenticating through the <a href="https://solidcommunity.net/">https://solidcommunity.net/</a> identity provider (when using <a href="https://pod.inrupt.com/">https://pod.inrupt.com/</a>, your IDP will be <a href="https://broker.pod.inrupt.com/">https://broker.pod.inrupt.com/</a>):</p>
					<pre><code class="language-bash"><span style="color: #000000">$ comunica-sparql-solid --idp https://solidcommunity.net/ \</span>
<span style="color: #000000">  http://example.org/private-resource.ttl \</span>
<span style="color: #000000">  </span><span style="color: #A31515">&quot;SELECT * WHERE {</span>
<span style="color: #A31515">       ?s ?p ?o</span>
<span style="color: #A31515">   } LIMIT 100&quot;</span>
</code></pre>
					<p>This command will connect with the given identity provider,
						and open your browser to log in with your WebID.
					After logging in, the query engine will be able to access all the documents you have access to.</p>
					<p>Show the help with all options:</p>
					<pre><code class="language-bash"><span style="color: #000000">$ comunica-sparql-solid --help</span>
</code></pre>
					<p>Just like <a href="https://github.com/comunica/comunica/tree/master/packages/actor-init-sparql">Comunica SPARQL</a>,
					a <a href="https://github.com/comunica/comunica/tree/master/packages/actor-init-sparql#usage-from-the-command-line">dynamic variant</a> (<code>comunica-dynamic-sparql-solid</code>) also exists.</p>
					<p><em><a href="https://comunica.dev/docs/query/getting_started/query_cli/"><strong>Read more</strong> about querying from the command line</a>.</em></p>
					<a href="#usage-within-application" id="usage-within-application" style="color: inherit; text-decoration: none;">
						<h3>Usage within application</h3>
					</a>
					<p>This engine can be used in JavaScript/TypeScript applications as follows:</p>
					<pre><code class="language-javascript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">newEngine</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;@comunica/actor-init-sparql-solid&#039;</span><span style="color: #000000">).</span><span style="color: #001080">newEngine</span><span style="color: #000000">;</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> { </span><span style="color: #0070C1">interactiveLogin</span><span style="color: #000000"> } = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;solid-node-interactive-auth&#039;</span><span style="color: #000000">);</span>

<span style="color: #008000">// This will open your Web browser to log in</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">session</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #795E26">interactiveLogin</span><span style="color: #000000">({ </span><span style="color: #001080">oidcIssuer:</span><span style="color: #000000"> </span><span style="color: #A31515">&#039;https://solidcommunity.net/&#039;</span><span style="color: #000000"> });</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">myEngine</span><span style="color: #000000"> = </span><span style="color: #795E26">newEngine</span><span style="color: #000000">();</span>

<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">result</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">myEngine</span><span style="color: #000000">.</span><span style="color: #795E26">query</span><span style="color: #000000">(</span><span style="color: #A31515">`</span>
<span style="color: #A31515">  SELECT * WHERE {</span>
<span style="color: #A31515">      ?s ?p ?o</span>
<span style="color: #A31515">  } LIMIT 100`</span><span style="color: #000000">, {</span>
<span style="color: #000000">  </span><span style="color: #001080">sources:</span><span style="color: #000000"> [</span><span style="color: #001080">session</span><span style="color: #000000">.</span><span style="color: #001080">info</span><span style="color: #000000">.</span><span style="color: #001080">webId</span><span style="color: #000000">], </span><span style="color: #008000">// Sets your profile as query source</span>
<span style="color: #000000">  </span><span style="color: #A31515">&#039;@comunica/actor-http-inrupt-solid-client-authn:session&#039;</span><span style="color: #001080">:</span><span style="color: #000000"> </span><span style="color: #001080">session</span><span style="color: #000000">,</span>
<span style="color: #000000">});</span>

<span style="color: #008000">// Consume results as a stream (best performance)</span>
<span style="color: #001080">result</span><span style="color: #000000">.</span><span style="color: #001080">bindingsStream</span><span style="color: #000000">.</span><span style="color: #795E26">on</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;data&#039;</span><span style="color: #000000">, (</span><span style="color: #001080">binding</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">binding</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;?s&#039;</span><span style="color: #000000">).</span><span style="color: #001080">value</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">binding</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;?s&#039;</span><span style="color: #000000">).</span><span style="color: #001080">termType</span><span style="color: #000000">);</span>

<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">binding</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;?p&#039;</span><span style="color: #000000">).</span><span style="color: #001080">value</span><span style="color: #000000">);</span>

<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">binding</span><span style="color: #000000">.</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;?o&#039;</span><span style="color: #000000">).</span><span style="color: #001080">value</span><span style="color: #000000">);</span>
<span style="color: #000000">});</span>

<span style="color: #008000">// Consume results as an array (easier)</span>
<span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">bindings</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #001080">result</span><span style="color: #000000">.</span><span style="color: #795E26">bindings</span><span style="color: #000000">();</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">bindings</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">].</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;?s&#039;</span><span style="color: #000000">).</span><span style="color: #001080">value</span><span style="color: #000000">);</span>
<span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">bindings</span><span style="color: #000000">[</span><span style="color: #098658">0</span><span style="color: #000000">].</span><span style="color: #795E26">get</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;?s&#039;</span><span style="color: #000000">).</span><span style="color: #001080">termType</span><span style="color: #000000">);</span>
</code></pre>
					<p><em><a href="https://comunica.dev/docs/query/getting_started/query_app/"><strong>Read more</strong> about querying an application</a>.</em></p>
					<a href="#usage-as-a-sparql-endpoint" id="usage-as-a-sparql-endpoint" style="color: inherit; text-decoration: none;">
						<h3>Usage as a SPARQL endpoint</h3>
					</a>
					<p>Start a webservice exposing a private resource via the SPARQL protocol, i.e., a <em>SPARQL endpoint</em>,
					by authenticating through the <a href="https://solidcommunity.net/">https://solidcommunity.net/</a> identity provider.</p>
					<pre><code class="language-bash"><span style="color: #000000">$ comunica-sparql-solid-http --idp https://solidcommunity.net/ \</span>
<span style="color: #000000">  http://example.org/private-resource.ttl</span>
</code></pre>
					<p>Show the help with all options:</p>
					<pre><code class="language-bash"><span style="color: #000000">$ comunica-sparql-solid-http --help</span>
</code></pre>
					<p>The SPARQL endpoint can only be started dynamically.
					An alternative config file can be passed via the <code>COMUNICA_CONFIG</code> environment variable.</p>
					<p>Use <code>bin/http.js</code> when running in the Comunica monorepo development environment.</p>
					<p><em><a href="https://comunica.dev/docs/query/getting_started/setup_endpoint/"><strong>Read more</strong> about setting up a SPARQL endpoint</a>.</em></p>
				</div>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section ">
							<h3>Classes</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/actor_init_sparql_solid.CliArgsHandlerSolidAuth.html" class="tsd-kind-icon">Cli<wbr>Args<wbr>Handler<wbr>Solid<wbr>Auth</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="../modules.html">Modules</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="actor_http_inrupt_solid_client_authn.html">actor-<wbr>http-<wbr>inrupt-<wbr>solid-<wbr>client-<wbr>authn</a>
					</li>
					<li class="current tsd-kind-module">
						<a href="actor_init_sparql_solid.html">actor-<wbr>init-<wbr>sparql-<wbr>solid</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-module">
						<a href="actor_http_inrupt_solid_client_authn.html" class="tsd-kind-icon">actor-<wbr>http-<wbr>inrupt-<wbr>solid-<wbr>client-<wbr>authn</a>
					</li>
				</ul>
				<ul class="current">
					<li class="current tsd-kind-module">
						<a href="actor_init_sparql_solid.html" class="tsd-kind-icon">actor-<wbr>init-<wbr>sparql-<wbr>solid</a>
						<ul>
							<li class=" tsd-kind-class tsd-parent-kind-module">
								<a href="../classes/actor_init_sparql_solid.CliArgsHandlerSolidAuth.html" class="tsd-kind-icon">Cli<wbr>Args<wbr>Handler<wbr>Solid<wbr>Auth</a>
							</li>
						</ul>
					</li>
				</ul>
				<ul class="after-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
</body>
</html>